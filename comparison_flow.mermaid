flowchart TD
    A[1. 라이브러리 설치] --> B[2. 환경변수 로드]
    B --> C[3. 데이터 로드]
    C --> D[4. BM25 검색기 준비]
    C --> E[5. Dense 검색기 준비]
    D --> F[6. 평가 지표 함수 정의]
    E --> F
    F --> G[7. 검색 결과 수집 및 평가]
    G --> H[8. 성능 비교 시각화]
    
    A1[eunjeon, rank_bm25<br/>sentence-transformers 등] --> A
    B1[OpenAI/Pinecone API Keys] --> B
    C1[documents.csv: 30개 문서<br/>queries.csv: 30개 질의] --> C
    
    D1[Mecab 형태소 분석기<br/>BM25Okapi 알고리즘<br/>토큰 기반 검색] --> D
    E1[기존 Pinecone 인덱스 연결<br/>OpenAI 임베딩 모델<br/>벡터 유사도 검색] --> E
    
    F1[Precision@k: 정밀도<br/>Recall@k: 재현율<br/>MRR: 평균 역순위<br/>MAP: 평균 정밀도] --> F
    
    G1[각 방법으로 30개 질의 검색<br/>상위 5개 결과 수집<br/>정답과 비교하여 지표 계산] --> G
    
    G2[BM25 결과] --> G3[성능 평가]
    G4[Dense 결과] --> G3
    G --> G2
    G --> G4
    
    H1[matplotlib으로 시각화<br/>4개 지표 비교 그래프<br/>Dense가 모든 지표에서 우수] --> H
    
    style A fill:#e1f5fe
    style D fill:#fff3e0
    style E fill:#f3e5f5
    style F fill:#e8f5e8
    style G fill:#fff8e1
    style H fill:#fce4ec